<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QUIX</title>
    <style>

    </style>
</head>

<body>
    

   <script>
    const section1 = document.getElementById('section1');
    const section2 = document.getElementById('section2');
    const openGameEditorButton = document.getElementById('openGameEditorButton');
    const codeInputContainer = document.getElementById('code-input-container');
    const codeInputs = document.querySelectorAll('.code-input');
    let activeSection = "section1";

    // Smooth height swap based on scroll position
window.addEventListener('wheel', (event) => {
    const scrollY = event.deltaY;
    
    if (activeSection == "section1" && scrollY > 0) {
        section1.style.height = '15vh';
        section2.style.height = '85vh';
        activeSection = "section2";

        codeInputContainer.style.opacity = '0';
        openGameEditorButton.style.opacity = '1';
            
    } else if (activeSection == "section2" && scrollY < 0) {
        section1.style.height = '85vh';
        section2.style.height = '15vh';
        activeSection = "section1";

        openGameEditorButton.style.opacity = '0';
        codeInputContainer.style.opacity = '1';

    }
});



    // Code input behavior
    codeInputs.forEach((input, index) => {
        input.addEventListener('input', () => {
            if (input.value.length === 1 && index < codeInputs.length - 1) {
                codeInputs[index + 1].focus();
            }
            updateInputColors();
        });

        input.addEventListener('keydown', (event) => {
            if (event.key === 'Backspace' && input.value === '' && index > 0) {
                codeInputs[index - 1].focus();
            }
            updateInputColors();
        });
    });

    function updateInputColors() {
        const filledInputs = Array.from(codeInputs).filter(input => input.value.length === 1).length;
        const colorIntensity = Math.min(filledInputs / codeInputs.length, 1);
        const color = `rgba(0, 123, 255, ${colorIntensity})`;

        codeInputs.forEach(input => {
            input.style.backgroundColor = color;
        });

        if (codeInputs[0].value.length === 1) {
            codeInputs.forEach(input => input.classList.add('pulsing'));
        } else {
            codeInputs.forEach(input => input.classList.remove('pulsing'));
        }
    }

    // Bounce animation on page load
    window.addEventListener('DOMContentLoaded', () => {
        codeInputs[0].focus();
        codeInputs.forEach((input, index) => {
            setTimeout(() => {
                input.style.animation = 'bounce 0.5s ease-in-out';
                setTimeout(() => {
                    input.style.animation = '';
                }, 500);
            }, index * 200);
        });
    });
</script>

</body>

</html>